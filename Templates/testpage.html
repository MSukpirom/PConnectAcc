{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkbox with Select Option</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
        integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous">
    </script>
    <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.14.0-beta3/dist/css/bootstrap-select.min.css">

    <link rel="stylesheet" href="{% static 'src/css/app.css' %}">
    {% comment %}
    <link rel="stylesheet" href="{% static 'src/css/task.css' %}"> {% endcomment %}
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet" />

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
        integrity="sha512-Avb2QiuDEEvB4bZJYdft2mNjVShBftLdPG8FJ0V7irTLQ8Uo0qcPxh4Plq7G5tGm0rU+1SPhVotteLpBERwTkw=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/brands.min.css"
        integrity="sha512-ym1f+T15aiJGZ1y6zs1XEpr8qheyBcOPqjFYNf2UfRmfIt5Pdsp7SD5O74fmsFB+rxxO6ejRqiooutodoNSjRQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/fontawesome.min.css"
        integrity="sha512-eBxzDWX6OiszkLv4+rzUiTP3FgBnDMJeDVkdN3PiCYjZZIUhdWu5aoBJEay8IiDSW+3womeUhVFRZ29c37S8tA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/regular.min.css"
        integrity="sha512-De7THrOr7M9dmDMBVMfyDfYypLtaH9KnvpfZ3PENIwAS0Od6Eh0M0EMucYwouLEZSaPL/PFQRQzg2Zir4tF2UQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/solid.min.css"
        integrity="sha512-jQcpw1zDugORx3f2JtUxXbX/Si4ktq488bmUvGB8Tz9BtlsEYN9hkN7SuaKlHa+4ME95k+hLfrn0mbYCrY/g/w=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="{% static 'js/jquery.mask.min.js' %}"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.14.0-beta3/dist/js/bootstrap-select.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.14.0-beta3/dist/js/i18n/defaults-*.min.js"></script>
</head>

<body>

    <form id="checkboxForm">
        <!-- Placeholder for checkboxes -->
    </form>

    <label for="selectOptions">Select Options:</label>
    <select id="selectOptions" multiple>
        <!-- Placeholder for select options -->
    </select>
    <script src="{% static 'src/js/app.js' %}"></script>
    <script src="{% static 'src/js/jquery.unduplicated.js' %}"></script>
    <script>
        // ข้อมูลตัวอย่าง (สมมติว่ามีจากฐานข้อมูล)
        const data = ['Option 1', 'Option 2', 'Option 3', 'Option 4'];
        // ดึงข้อมูลและสร้าง checkbox
        const checkboxForm = document.getElementById('checkboxForm');
        const selectOptions = document.getElementById('selectOptions');
        data.forEach((item, index) => {
            const checkbox = document.createElement('input');
            checkbox.type = 'checkbox';
            checkbox.id = 'checkbox' + (index + 1);
            checkbox.name = 'checkbox';
            checkbox.value = item;
            const label = document.createElement('label');
            label.htmlFor = 'checkbox' + (index + 1);
            label.appendChild(document.createTextNode(item));
            checkboxForm.appendChild(checkbox);
            checkboxForm.appendChild(label);
            checkboxForm.appendChild(document.createElement('br')); // เพิ่มบรรทัดให้เว้นระยะ
            // เพิ่ม event listener สำหรับ checkbox
            checkbox.addEventListener('change', function() {
                updateSelectOptions();
            });
        });
        // อัปเดตตัวเลือกของ <select> ตาม checkbox ที่ถูกเลือก
        function updateSelectOptions() {
            selectOptions.innerHTML = ''; // ล้างตัวเลือกทั้งหมด
            const checkedCheckboxes = document.querySelectorAll('input[name="checkbox"]:checked');
            checkedCheckboxes.forEach((checkbox, index) => {
                const option = document.createElement('option');
                option.value = checkbox.value;
                option.text = checkbox.value;
                selectOptions.add(option);
            });
        }
    </script>

</body>

</html>