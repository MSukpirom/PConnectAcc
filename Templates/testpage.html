<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CRUD Example</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
    </style>
</head>
<body>

    <h1>CRUD Example</h1>

    <form id="crudForm">
        <label for="name">Name:</label>
        <input type="text" id="name" required>
        <button type="button" onclick="createOrUpdate()">Create/Update</button>
    </form>

    <h2>Records</h2>
    <ul id="recordsList"></ul>

    <script>
        let records = [];

        // Load records from local storage
        const storedRecords = localStorage.getItem('records');
        if (storedRecords) {
            records = JSON.parse(storedRecords);
        }

        function createOrUpdate() {
            const nameInput = document.getElementById('name');
            const name = nameInput.value.trim();

            if (name === '') {
                alert('Please enter a name.');
                return;
            }

            const record = { id: generateId(), name };

            const existingRecord = records.find(r => r.id === record.id);

            if (existingRecord) {
                // Update existing record
                existingRecord.name = name;
            } else {
                // Create new record
                records.push(record);
            }

            nameInput.value = '';

            // Save records to local storage
            localStorage.setItem('records', JSON.stringify(records));

            displayRecords();
        }

        function editRecord(id) {
            const recordToEdit = records.find(record => record.id === id);
            document.getElementById('name').value = recordToEdit.name;

            // Remove the record from the list
            records = records.filter(record => record.id !== id);

            // Save updated records to local storage
            localStorage.setItem('records', JSON.stringify(records));

            displayRecords();
        }

        function deleteRecord(id) {
            records = records.filter(record => record.id !== id);
            localStorage.setItem('records', JSON.stringify(records));
            displayRecords();
        }

        function displayRecords() {
            const recordsList = document.getElementById('recordsList');
            recordsList.innerHTML = '';

            records.forEach(record => {
                const listItem = document.createElement('li');
                listItem.innerHTML = `
                    ${record.name}
                    <button onclick="editRecord('${record.id}')">Edit</button>
                    <button onclick="deleteRecord('${record.id}')">Delete</button>
                `;
                recordsList.appendChild(listItem);
            });
        }

        function generateId() {
            return '_' + Math.random().toString(36).substr(2, 9);
        }

        // Initial display
        displayRecords();
    </script>

</body>
</html>
